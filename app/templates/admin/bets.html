{% extends 'admin/layout.html' %} {% block content %}
<h4 class="mb-3">Quản lý cược</h4>
<form class="mb-3" method="get">
    <div class="input-group">
        <input name="q" value="{{ q }}" class="form-control" placeholder="Lọc theo User ID">
        <button class="btn btn-outline-light">Lọc</button>
    </div>
</form>
<div class="table-responsive">
    <table class="table table-dark table-striped align-middle">
        <thead>
            <tr>
                <th>ID</th>
                <th>Người chơi</th>
                <th>Trò chơi</th>
                <th>Vòng</th>
                <th>Lựa chọn</th>
                <th>Tỷ lệ</th>
                <th>Tiền cược</th>
                <th>Kết quả</th>
                <th>Trả thưởng</th>
                <th>Thời gian</th>
            </tr>
        </thead>
        <tbody>
            {% for b in bets %}
            <tr>
                <td>{{ b.id }}</td>
                <td>{{ users.get(b.user_id, b.user_id) }}</td>
                <td>{{ games.get(b.game_id, b.game_id) }}</td>
                <td>{{ b.round_id }}</td>
                <td>{{ b.selection }}</td>
                <td>{{ '%.2f'|format(b.odds) }}</td>
                <td>$ {{ '%.2f'|format(b.stake) }}</td>
                <td>{{ b.result or '-' }}</td>
                <td>$ {{ '%.2f'|format(b.payout or 0) }}</td>
                <td>{{ b.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}