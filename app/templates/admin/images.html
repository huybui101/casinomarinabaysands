{% extends 'admin/layout.html' %} {% block content %}
<h4 class="mb-3">Hình ảnh</h4>
<form method="post" enctype="multipart/form-data" class="card bg-secondary bg-opacity-25 border-0 p-3 mb-3">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="row g-2">
        <div class="col-md-4"><input class="form-control" type="file" name="image" accept="image/*" required></div>
        <div class="col-md-3">
            <select class="form-select" name="usage">
        <option value="logo">Logo</option>
        <option value="game">Game</option>
        <option value="ad">Quảng cáo</option>
      </select>
        </div>
        <div class="col-md-3 form-check form-switch d-flex align-items-center">
            <input class="form-check-input me-2" type="checkbox" name="remove_bg" id="remove_bg">
            <label class="form-check-label" for="remove_bg">Xóa phông (nếu có rembg)</label>
        </div>
        <div class="col-md-2"><button class="btn btn-primary w-100">Tải lên</button></div>
    </div>
</form>

<div class="row g-3">
    {% for img in images %}
    <div class="col-6 col-md-3">
        <div class="card bg-secondary bg-opacity-25 border-0">
            <img src="{{ img.path }}" class="card-img-top" alt="img">
            <div class="card-body d-flex justify-content-between align-items-center">
                <span class="badge bg-info">{{ img.usage }}</span>
                <form method="post" action="{{ url_for('admin.delete_image', image_id=img.id) }}">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    <button class="btn btn-sm btn-danger">Xóa</button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}